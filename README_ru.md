# Grawerty

Grawerty - это раскладка для комфортного набора на английском языке. Изначально сделана для стандартной клавиатуры, но может быть адаптирована для других типов клавиатур. При наборе используется Angle Mod - `c` - указательный, `x` - средний, `z` - безымянный.

![grawerty](./img/grawerty.png)

## Причина создания Grawerty

Первая альтернативная раскладка, на которую я перешел был Graphite и она действительно оказалась намного приятнее чем Qwerty - обучение шло быстрее и комфортнее. За месяц я достиг скорости 250 знаков в минуту и скорость не переставая росла. Но я заметил некоторые нудобства, которые для меня оказались критичными:

- я не люблю перекаты, в которых участвует мизинец и средний палец, а их в графите много - `nd`, `nt`, `io`, `ai`, `ia`
- после Qwerty расположение `t` не на указательном пальце было очень непривычно, но даже без привязки к Qwerty я считаю (для себя), что расположение `t` на указательном пальце очень удобно и естественно. Кстати, создатель графита в своих следующих раскладках располагает `t` на указательном пальце.
- мне не нравится расположение `m` в графите, т.к. для меня набор `rm`, `rms`, `mb`, `lm` становится неудобным
- `br`, `ui` - набирать не комфортно, поэтому при создании раскладки следил за полу-ножницами, особенно на мизинце и безымянном
- я не люблю слабые перенаправления и стараюсь их избегать - в графите их значительно меньше, чем в стандартой раскладке, но их можно снизить ещё больше

## Требования к раскладке

- устранить недостатки графита, не наплодив новых недостатков
- количество перенаправлений не должно сильно увеличиться по сравнению с графитом
- значительно снизить количество слабых перенаправлений
- мне нравится, что в графите поменяли руку только 6 букв, так их и оставить - ничего не менять
- SFB не должно превышать SFB раскладки Dvorak
- SFB должно быть удобно набирать, SFB на мизинце недопустимы, в том числе и SFB(0u) - повторы одной буквы
- почти нулевое количество ножниц (кроме тех, когда указательный палец внизу, а средний или безымянный вверху)
- почти нулевое значение полуножниц на мизинце/безымянном
- расположение `c`, `v` - совпадает с Qwerty и Graphite(Angle Mod)
- по возможости сохранить расположение букв стандартной раскладки. Если изменение делается, то оно должно нести существенный выигрыш

## Результат

Все требования удалось реализовать, но я не смог сделать раскладку, которая удовлетворяла бы этим требованиям и при этом нагружала мизинцы (нагрузка на мизинцы меня не смущает, если буквы на мизинцах не образуют неудобных сочетаний). Поэтому получилась раскладка, которая имеет низко нагруженные мизинцы. Хотя на стандартной клавиатуре работы для мизинцев достаточно. Как можно заметить, она имеет много общего как с Qwerty, так и с Graphite, поэтому называется Grawerty.

Расположение букв `u`, `i`, `o` получилось как в стандартной раскладке не для сохранения похожести, а потому, что такое расположение букв наилучшим образом удовлетворяет тебованиям к новой раскладке. Сюрприз. Тоже самое касается буквы `c` - она сохранила свое место в том числе и потому, что перемещение её на другие пальцы хоть и снижает sfb, но при этом происходит увеличение других неудобных сочетаний - слабых редиректов, полуножниц, перекатов мизинец/средний (которые я не люблю).

## Сравнение с графитом и другими раскладками

![Grawerty](./img/grawerty_oxey.png)

### Триграммы

1. Общее количество перенаправлений увеличилось всего на 0.8% по сравнению с графитом - это меня устраивает
2. Количество слабых перенаправлений снизилось на 0.3% и стало очень не значительным - 0.1%
3. Количество перекатов немного снизилось, но я на их количество, вообще не обращаю внимания, т.к. в эти перекаты попадают ножницы и прочие неудобные сочетания. Смотрю только, чтобы перекатов наружу было не намного больше, чем внутрь.

### Биграммы

SFB - с моей точки зрения этот параметр излишне демонизируют и стараются оптимизировать любой ценой, но при этом появляются другие неудобные сочетания, которые современные анализаторы не отлавливают, т.к. их анализ биграмм не полный. В этом можно убедиться, если сложить значения всех проанализированных биграмм: sfb + lsb + scissors < 5%. А где остальные?

Итак, SFB - 2.55%. В два с половиной раза больше, чем у графита! Тут все разворачиваются и идут по своим делам - т.к. сразу считают, что это плохая раскладка. Но на самом деле SFB ещё больше, т.к. анализатор не учел повторы одной буквы, которые для английского языка составляют 2.3%.

Теперь, Grawerty - 4.85%, а графит - 3.3%. Уже не такая большая разница - не так ли? На 50% больше, чем у графита. Эти дополнительные проценты довольно удобно нажимать, т.к. они сконцентрированы всего в нескольких биграммах на указательных и средних пальцах. `rs`, `ie` - удобные, `ct` - менее удобно, `e,` - неудобно, `up`, `pu`, `fu`, `dg`, `dv` - легко нажимаются с использованием указательного и среднего пальца - это довольно привычно пользователям Qwerty.

Ножницы - практически такие же как в графите

LSB - 2.5%. Графит - 1.4%. Для меня приемлемо.

На этом анализ биграмм для многих анализаторов заканчивается, хотя проанализировано довольно мало. Чтобы восполнить этот пробел, я сделал собственный анализатор биграмм - [ABA](https://github.com/mohoaz1348-rgb/layout_bigrams_analyzer) - All Bigrams Analyzer. У него совершенно отличная концепция от других анализаторов, поэтому чтобы понять, что и как он анализирует прочитайте ридми файл.

Вот, результаты в процентах для некоторых раскладок:

`-3` - самые неудобные сочетания, `3` - самые удобные

![compare_table](./img/compare_table.png)

Видно, что согласно матрице моих собственных предпочтений - Grawerty самая удобная раскладка (для меня). Вы самостоятельно можете поменять эту матрицу под себя и посмотреть какая раскладка будет наиболее удобна для вас. Но процесс это трудоёмкий и требует наблюдания за собой и непредвзятости.

#### Небольшое отступление от темы

Из таблицы видно, что графит всё равно сохранил довольно высокую позицию - лучше его для меня только Comet от создателя графита, которому Comet нравится больше, чем графит. Northstar на уровне графита, Gallium, чуть ниже. Canary - хорошая раскладка, но мне не подходит, т.к. слишком много перенаправлений, но зато слабых перенаправлений меньше, чем в графите.

Из раскладок с большим количеством перенаправлений выигрывает Workman, который кроме небольшого количества неудобных сочетаний имеет очень много удобных. Удивил Colemak-dh - проигравший Colemak.

Так же видно, что Angle Mod дает преимущество по сравнению со стандартным режимом для Qwerty, Colemak, Workman.

## Мой опыт использования английских раскладок

Год назад я решил освоить слепой метод печати для Qwerty. Три недели занимался на тренажере, затем пришел на [клавогонки](https://klavogonki.ru/) и начал тут набирать скорость. С результатами можно ознакомиться [здесь](https://klavogonki.ru/u/#/808252/stats/voc-5539/?fromDate=2025-02-26&toDate=2026-01-22&grouping=day&indicator=speed).

За два месяца и три недели я достиг максимальной скорости 287 знаков в минуту и она отказывалась дальше расти. При печати довольно быстро наступало утомление - особенно на левой руке (сейчас я понимаю, что так происходило из-за большого количества перенаправлений, особенно слабых). Тренироваться было не в кайф. Начал присматриваться к альтернативным английским раскладкам - остановился на графите и начал его тренировать.

За месяц на графите я достиг максимума 250 символов и скорость не переставая росла. Со статистикой можно ознакомиться [здесь](https://klavogonki.ru/u/#/817942/stats/voc-5539/?fromDate=2025-05-04&toDate=2026-01-22&grouping=day&indicator=speed). Графит это только начало графика, остальное Grawerty.

Т.е. на графите прогресс был заметно быстрее и печатать гораздо приятнее было. Но для меня графит не совсем подходил. Поэтому, после того как я допилил и окончательно протестировал русскую раскладку [Статикa](https://github.com/mohoaz1348-rgb/statica), я приступил к созданию английском раскладки. Т.к. я уже понимал что мне нужно от раскладки, то сделал её довольно быстро и за два месяца достиг 350 символов в минуту. За это время изменили своё пложение буквы `r`, `l`, `f`, `y`, `k` и раскладка обрела окончательный вид.

Прогресс на Grawerty шел ещё быстрее, чем на графите. Прирост скорости по сравнению с Qwerty уже составил 22%, хотя тренировался меньше на две недели и в процессе этих тренировок раскладка менялась. Так что могу с уверенностью сказать, что альтернативные раскладки, особенно хорошие, дают существенный прирост как в скорости, так и в комфорте набора.

### Что мне особенно нравится в раскладе

- блок wnst/blrd. В этом блоке сконцентрированы самые частые согласные, которые легко доступны и образуют много удобных и мало неудобных сочетаний друг с другом
- блок hea;/uioj. Нравится по той же причине, что и левый блок, но уже меньше, т.к `j` немного портит статистику, неудобными сочетаниями с некоторыми гласными буквами
- незначительное использование мизинцев всё-таки добавляет комфорта, хотя я и не стремился специально снизить на них нагрузку
- большое сходство со стандартной раскладкой при использовании наиболее частых шорткатов
- пунктуация совпадает с Qwerty (с графитом я тоже использовал стандартную пунктуацию)

### Что мне не нравится в раскладке

- левый указательный палец двигается довольно интенсивно и скачет туда сюда, это не сильно сказывается на удобстве, но может сказаться на высоких скоростях набора. Хотя этот показатель всё равно намного лучше, чем у Qwerty. Неудобство вызывает скипграмма `c_m`.
- `e,` - не очень удобная sfb для меня. При желании можно поменять местами `,` и `;`.
- `phy` - удобнее чем в графите, но всё равно требует усилий
- `k` - расположение не самое оптимальное, так как образует много сочетаний с гласными буквами и хотя не доставляет неудобств, но вызывает перепробег указательного пальца. Но не советую менять местами `k` и `;`, т.к. это вызовет значительный рост слабых перенаправлений

### Кое-какие замечания

- `m` - может показаться, что эта довольно частая буква труднодоступна. Место, действительно, не самое удобное, но гораздо важнее, чтобы буква не вызывала неудобных сочетаний. Сочетания `rm`, `mb`, `lm`, `ms` - либо удобны, либо нейтральны. Они все равно удобнее, чем в графите, по крайней мере для меня. Если же буква `m` участвует в биграммах, для набора которых используются разные руки, то её расположение, вообще, не вызывает проблем. На практике, с этой буквой я не испытываю трудностей.

## Установка

### Windows

Для создания раскладки существует программа [Microsoft Keyboard Layout Creator](https://www.microsoft.com/en-us/download/details.aspx?id=102134). Видео по созданию раскладки - https://www.youtube.com/watch?v=HMDSJfwi0Kc.

Уже готовый klc-файл с раскладкой и инсталлятор (сделаны мной) - [здесь](./windows/Grawerty.7z).
Klc-файл можно открыть в программе и подредактировать, а затем из него создать инсталлятор. После инсталляции раскладки лучше перезагрузиться. Даже если вы не будете самостоятельно создавать раскладку - видео все-равно посмотрите, т.к. там указаны и другие шаги, необходимые для использования раскладки.

Для удаления раскладки нужно запустить инсталлятор повторно.

#### Предупреждение:

Инсталлятор создавался и проверялся на Windows 10.

### Mac

### Linux

Добавить содержимое [файла](./Linux/xkb/symbols/us) в файл - `/usr/share/X11/xkb/symbols/us`.

#### Предупреждение:

При обновлении системы `/usr/share/X11/xkb/symbols/us` может обновиться и нужно будет устанавливать раскладку снова.
